---
import Layout from "../layouts/Layout.astro";
import Loader from "../components/Loader.astro"
// src/pages/index.astro
export const prerender = true;

// Opción 1: Redirección fija a español
return new Response(null, {
  status: 302,
  headers: { Location: '/es' }
});

// Opción 2: Redirección inteligente (recomendado)
const supportedLangs = ['es', 'en'];
const defaultLang = 'es';

// Detecta el idioma del navegador
const browserLang = typeof navigator !== 'undefined' 
  ? navigator.language.split('-')[0] 
  : defaultLang;

const userLang = supportedLangs.includes(browserLang) 
  ? browserLang 
  : defaultLang;

return new Response(null, {
  status: 302,
  headers: { Location: `/${userLang}` }
});
--- 

<Layout
  title={userLang === 'es' 
      ? 'El Pensadero HP - Teorías Mágicas Reveladas' 
      : 'The HP Pensive - Magic Theories Uncovered'}
  description={
    userLang === 'es'
      ? 'Portal a las teorías mejor guardadas del universo Harry Potter. Redirigiendo a contenido exclusivo...'
      : 'Gateway to the best-kept Harry Potter theories. Redirecting to exclusive content...'
  }
  url=`/`
><Loader/></Layout>